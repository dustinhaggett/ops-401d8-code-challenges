def main():
    host = "8.8.8.8"  # Specify the IP address you want to monitor
    interval = 2  # Interval between each ping in seconds

    sender_email = input("Enter your email address: ")
    sender_password = getpass("Enter your email password: ")
    recipient_email = input("Enter the recipient's email address: ")
    
    previous_status = None
    
    while True:
        timestamp = time.strftime("%Y-%m-%d %H:%M:%S.%f")
        if ping(host):
            current_status = "Network Active"
        else:
            current_status = "Network Inactive"
        
        if previous_status is not None and current_status != previous_status:
            subject = "Network Status Change"
            if current_status == "Network Active":
                message = "Your network is now active."
            else:
                message = "Your network is now inactive."
            
            body = f"{message}\n\nHost: {host}\nPrevious Status: {previous_status}\nCurrent Status: {current_status}\nTimestamp: {timestamp}"
            send_email(sender_email, sender_password, recipient_email, subject, body)
        
        print(f"{timestamp} {current_status} to {host}")
        
        previous_status = current_status
        time.sleep(interval)
